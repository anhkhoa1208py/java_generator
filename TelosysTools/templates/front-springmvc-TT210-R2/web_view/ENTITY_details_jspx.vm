## #set( $tools = $loader.newInstance("Tools") )
#set( $uncapitalizedEntityName = $fn.uncapitalize($entity.name) )
#set( $_= "$" )
##--------------------------------------------------------------------------------------------------------
##--------------------------------------------------------------------------------------------------------
## Key fields = fields in Primary Key    
#set( $keyFields = $entity.keyAttributes )
##--------------------------------------------------------------------------------------------------------
## Data fields = fields not in Primary Key    
#set( $dataFields = $entity.nonKeyAttributes )
##--------------------------------------------------------------------------------------------------------
## All fields ( ordered fiels : 1) fields in Primary Key 2) fields not in primary key    
#set( $allFields = $fn.concatLists($keyFields, $dataFields) )
##--------------------------------------------------------------------------------------------------------
##--------------------------------------------------------------------------------------------------------
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- File generated by $generator.name ( version $generator.version ) - Date $today.date("yyyy-MM-dd") ( Time $today.time ) -->

<div xmlns:jsp="http://java.sun.com/JSP/Page" xmlns:c="http://java.sun.com/jsp/jstl/core"
     xmlns:s="http://www.springframework.org/tags" xmlns:form="http://www.springframework.org/tags/form" 
     xmlns:util="urn:jsptagdir:/WEB-INF/tags/util" xmlns:input="urn:jsptagdir:/WEB-INF/tags/input" 
     version="2.0">
<jsp:directive.page contentType="text/html;charset=UTF-8"/>
<jsp:output omit-xml-declaration="yes"/>

	<div class="container">
			<span class="screen_header" ><s:message code="${uncapitalizedEntityName}"/> detail</span>
		
			<util:message message="${DOLLAR}{message}" messages="${DOLLAR}{messages}" />

			<table class="table table-striped tbl_full_width">
					<tr class='section_header '>
						<td colspan="8">General Information</td>
					</tr>

## -----------------------------------------------------------------------------------------------
#foreach( $field in $allFields )
#set($htmlId      = "${uncapitalizedEntityName}_${field.name}" )
#set($htmlName    = $field.name )
#set($messageCode = "${uncapitalizedEntityName}.${field.name}" )
#set($maxLength   = $field.maxLength )
## Is this field referenced another entity ? Is it a Foreign Key ? ( if Yes => a combobox will be used )
#* 
#set($referencedEntityTypes = $tools.referencedEntityTypes($entity,$field) )
#if( $referencedEntityTypes.size() > 0 )
#set($listOfItemsVarName = "listOf${referencedEntityTypes.get(0)}Items" ) ## If many, use the 1st one
#else
#set($listOfItemsVarName = "" ) 
#end
*# 
##if( $field.isReferencingAnotherEntity() )
##set($listOfItemsVarName = "listOf${field.referencedEntityType}Items" ) ## If many, use the 1st one
##else
##set($listOfItemsVarName = "" ) 
##end
#set($listOfItemsVarName = "" ) 
##
## Breaking down by 4 input fields to one row
#if ($foreach.count  == 1) 
				<tr class="rpt">
#elseif ($foreach.count  % 4 == 0)  
	
				</tr> 
				<tr class="rpt">
#end 
##
#if( $field.isKeyElement() )
				<!-- PRIMARY KEY FIELD : $field.name -->
#else
				<!-- DATA FIELD : $field.name -->
#end
## ------------------------------------------------ KEY ELEMENT 
#if( $field.isKeyElement() ) 
## ------------------
#if( $listOfItemsVarName != "" )
## --- Primary Key element and Foreign Key : combo box
<c:if test="${DOLLAR}{mode == 'create'}">

						<td class="title"><s:message code="${uncapitalizedEntityName}.${htmlName}"/></td>
							<td>${DOLLAR}{${uncapitalizedEntityName}.${htmlName}}</td>
</c:if>
<c:if test="${DOLLAR}{mode != 'create'}">
##						<input:text id="${htmlId}" name="${htmlName}"  disabled="disabled" />

						<td class="title"><s:message code="${uncapitalizedEntityName}.${htmlName}"/></td>
							<td>${DOLLAR}{${uncapitalizedEntityName}.${htmlName}}</td>
</c:if>
#else
## --- Primary Key element and Not in a Foreign Key : simple field
##						<input:text id="${htmlId}" name="${htmlName}"  disabled="${DOLLAR}{mode != 'create'}" />

						<td class="title"><s:message code="${uncapitalizedEntityName}.${htmlName}"/></td>
							<td>${DOLLAR}{${uncapitalizedEntityName}.${htmlName}}</td>
#end
## ------------------
#else ## --------------------------------------- DATA ELEMENT 

## ------------------
#if( $listOfItemsVarName != "" ) ## --- Data element and Foreign Key : combo box (never disabled)

						<td class="title"><s:message code="${uncapitalizedEntityName}.${htmlName}"/></td>
							<td>${DOLLAR}{${uncapitalizedEntityName}.${htmlName}}</td>


#else ## --- Data element and Not in a Foreign Key : simple field (never disabled)
#if( $field.fullType == "java.util.Date" || $field.fullType == "java.sql.Date" || $field.fullType == "java.util.Calendar" )

						<td class="title"><s:message code="${uncapitalizedEntityName}.${htmlName}"/></td>
							<td>${DOLLAR}{${uncapitalizedEntityName}.${htmlName}}</td>
#elseif( $field.isLongText() )
##						<input:textarea id="${htmlId}" name="${htmlName}" /> <!-- LONG TEXT type -->

						<td class="title"><s:message code="${uncapitalizedEntityName}.${htmlName}"/></td>
							<td>${DOLLAR}{${uncapitalizedEntityName}.${htmlName}}</td>
#else
##						<input:text id="${htmlId}" name="${htmlName}"  ${field.guiMaxLengthAttribute('maxLength')}  /> 

						<td class="title"><s:message code="${uncapitalizedEntityName}.${htmlName}"/></td>
							<td>${DOLLAR}{${uncapitalizedEntityName}.${htmlName}}</td>
#end
#end 
## ------------------
#end 
## ------------------------------------------------
##						<input:errors id="${htmlId}_errors" name="${htmlName}"  />
				

#end ## end of "foreach( $field in $allFields )"
## -----------------------------------------------------------------------------------------------
</tr>
	    </table>

		<br/>
			<table class="command_section tbl_full_width">
					<tr>
						
						<s:url var="url_edit" value="/${uncapitalizedEntityName}/form/${entity.keyAttributesNamesAsString("/","${_}{$uncapitalizedEntityName.", '}')}"/>
		 				<s:url var="url_cancel" value="/${uncapitalizedEntityName}" />
						<td colspan="8">
							<span class="button"><a class="btn btn-info" href="${DOLLAR}{url_edit}"><s:message code="edit"/></a></span>
							&#160;
							<span class="button"><a class="btn btn-info" href="${DOLLAR}{url_cancel}"><s:message code="cancel"/></a></span>
						</td>
					</tr>
			</table>
	</div>	
</div>
